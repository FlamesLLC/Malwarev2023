 
# This code is for educational purposes only and may not work as intended.
# Please use it at your own risk and test it before using it.

# Import the modules
import os
import shutil

# Define the path to the firefox profile folder
firefox_profile_path = os.path.join(os.environ["APPDATA"], "Mozilla", "Firefox", "Profiles")

# Loop through the subfolders in the profile folder
for folder in os.listdir(firefox_profile_path):
    # Get the full path of the subfolder
    subfolder_path = os.path.join(firefox_profile_path, folder)
    # Check if the subfolder is a valid profile folder
    if os.path.isfile(os.path.join(subfolder_path, "prefs.js")):
        # Delete the cookies.sqlite file in the profile folder
        cookies_file_path = os.path.join(subfolder_path, "cookies.sqlite")
        if os.path.isfile(cookies_file_path):
            os.remove(cookies_file_path)
        # Delete the cookies.sqlite-shm and cookies.sqlite-wal files in the profile folder
        # These are temporary files that may be created by sqlite
        cookies_shm_file_path = os.path.join(subfolder_path, "cookies.sqlite-shm")
        if os.path.isfile(cookies_shm_file_path):
            os.remove(cookies_shm_file_path)
        cookies_wal_file_path = os.path.join(subfolder_path, "cookies.sqlite-wal")
        if os.path.isfile(cookies_wal_file_path):
            os.remove(cookies_wal_file_path)
        # Delete the cookie-backups folder in the profile folder
        # This is a folder that may be created by firefox to store cookie backups
        cookie_backups_folder_path = os.path.join(subfolder_path, "cookie-backups")
        if os.path.isdir(cookie_backups_folder_path):
            shutil.rmtree(cookie_backups_folder_path)
        # Print a message to indicate the cookies have been deleted for the profile
        print(f"Cookies deleted for profile {folder}")